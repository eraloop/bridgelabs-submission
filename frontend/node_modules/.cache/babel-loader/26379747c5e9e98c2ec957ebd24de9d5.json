{"ast":null,"code":"import Vuetable from 'vuetable-2';\nexport default {\n  components: {\n    Vuetable\n  },\n\n  data() {\n    return {\n      showModal: false,\n      update: {\n        id: '',\n        name: '',\n        description: '',\n        image: ''\n      }\n    };\n  },\n\n  computed: {\n    loggedInUser() {\n      return this.$store.getters.returnUser;\n    },\n\n    tableData() {\n      return this.$store.getters.returnCategoryValues;\n    },\n\n    loggedIn() {\n      return this.$store.getters.returnLoggedIn;\n    }\n\n  },\n\n  mounted() {\n    this.loggedInUser, this.tableData;\n  },\n\n  methods: {\n    updateItem(item) {\n      this.showModal = true;\n      this.update = item;\n    },\n\n    onEditItem() {\n      this.$store.dispatch(\"update\", this.update);\n      this.showModal = false;\n    },\n\n    onDeleteItem(item) {\n      this.$store.dispatch(\"delete\", item.id);\n      this.$router.go(this.$router.currentRoute);\n    },\n\n    handleSelects(e) {\n      const fileList = Array.prototype.slice.call(e.target.files);\n      fileList.forEach(f => {\n        if (!f.type.match(\"image.*\")) {\n          return;\n        }\n\n        const reader = new FileReader();\n        const self = this;\n\n        reader.onload = function (e) {\n          self.update.image = e.target.result;\n        };\n\n        reader.readAsDataURL(f);\n      });\n    }\n\n  }\n};","map":{"version":3,"mappings":"AAyFA;AAEA;EAEAA;IACAC;EADA,CAFA;;EAMAC;IACA;MACAC,gBADA;MAEAC;QACAC,MADA;QAEAC,QAFA;QAGAC,eAHA;QAIAC;MAJA;IAFA;EASA,CAhBA;;EAkBAC;IACAC;MACA;IACA,CAHA;;IAIAC;MACA;IACA,CANA;;IAOAC;MACA;IACA;;EATA,CAlBA;;EA8BAC;IACA,mBACA,cADA;EAEA,CAjCA;;EAmCAC;IAEAC;MACA;MACA;IACA,CALA;;IAOAC;MACA;MACA;IACA,CAVA;;IAYAC;MACA;MACA;IACA,CAfA;;IAiBAC;MACA;MACAC;QAEA;UACA;QACA;;QAEA;QACA;;QACAC;UAEAC;QACA,CAHA;;QAIAD;MACA,CAbA;IAeA;;EAlCA;AAnCA","names":["components","Vuetable","data","showModal","update","id","name","description","image","computed","loggedInUser","tableData","loggedIn","mounted","methods","updateItem","onEditItem","onDeleteItem","handleSelects","fileList","reader","self"],"sourceRoot":"src/components","sources":["WelcomePageComponent.vue"],"sourcesContent":["<template>\n\n<main>\n    <div  v-if=\"loggedIn\" class=\"container greeting justify-content-center align-items-center text-center mt-2 py-auto shadow-lg\">\n        <h4> Hello!! {{loggedInUser.name}} - Welcome</h4>\n    </div>\n    <div class=\"welcome-page container justify-content-center align-items-center  mx-auto my-5 py-5  shadow-lg \">\n\n       <div class=\"container d-flex-column  text-center  align-items-center justify-content-center \">\n        <section class=\"text-center mb-4\">\n            <h4>View and Manage Categories</h4>\n        </section>\n\n        <section class=\"px-4\">\n            <vuetable ref=\"vuetable\"\n                :fields=\"['image','name', 'description', 'actions']\"\n                data-path=\"\"\n                pagination-path=\"\"\n                :api-mode=\"false\"\n                :data=\"tableData.data\"\n            >\n                <template slot=\"image\" scope=\"props\">\n                    <div class=\"table-button-container\">\n                       <img :src=\"props.rowData.image\" alt=\"\" height=\"50px\" width=\"50px\" >\n                    </div>\n                </template>\n                <template slot=\"actions\" scope=\"props\">\n                    <div class=\"table-button-container\">\n                        <button class=\"btn btn-default\" @click.prevent=\"updateItem(props.rowData)\"><img src=\"../../static/images/pen-to-square-regular.svg\" height=\"15px\" width=\"15px\"></button>&nbsp;&nbsp;\n                        <button class=\"btn btn-danger\" @click.prevent=\"onDeleteItem(props.rowData)\"><img src=\"../../static/images/trash-can-regular.svg\" height=\"15px\" width=\"15px\"></button>&nbsp;&nbsp;\n                    </div>\n                </template>\n\n            </vuetable>\n        </section>\n\n        <section v-if=\"showModal\" class=\" modal text-center d-flex align-items-center justify-content-center mx-auto\">\n\n            <transition name=\"modal bg-secondary \" >\n                <div class=\"modal-mask shadow-lg p-5\">\n                <div class=\"modal-wrapper\">\n                    <div class=\"modal-container\">\n\n                    <div class=\"modal-header d-flex justify-content-between align-items-center \">\n                        <slot name=\"header\">\n                            Edit item\n                        </slot>\n\n                        <button class=\" modal-default-button outline bg-danger\" @click.prevent=\"showModal = false\">\n                            <img src=\"../../static/images/close.svg\" alt=\"\" height=\"15px\" width=\"15px\">\n                        </button>\n                    </div>\n\n                    <div class=\"modal-body \">\n                        <slot name=\"body\">\n                            <form action=\"\">\n                                <div class=\"py-1\">\n                                    <label for=\"name\">Name</label><br/>\n                                    <input v-model=\"update.name\" class=\"col-12\" type=\"text\" name=\"name\"  :placeholder=\"update.name\" >\n                                </div>\n                                <div class=\"py-1\">\n                                    <label for=\"profilepicture\">Profile Picture</label><br/>\n                                    <input  type=\"file\" @change=\"handleSelects\" accept=\"image/*\" name=\"images\" class=\" mulitple col-12\">\n                                </div>\n                                <div class=\"py-1\">\n                                    <label for=\"password\">Description</label><br/>\n                                    <textarea v-model=\"update.description\" class=\"col-12\" type=\"text\" :placeholder=\"update.description\" name=\"desciption\" cols=\"47\" rows=\"3\"></textarea>\n                                </div>\n\n                                <div class=\"py-1\">\n                                    <button class=\"modal-default-button filled col-12\" @click.prevent=\"onEditItem\">\n                                        Submit\n                                    </button>\n                                </div>\n                            </form>\n                        </slot>\n                    </div>\n                    </div>\n                </div>\n                </div>\n            </transition>\n            \n        </section>\n       </div>\n    </div>\n</main>\n</template>\n\n<script>\nimport Vuetable from 'vuetable-2'\n\nexport default {\n\n    components: {\n        Vuetable\n    },\n\n    data(){\n        return{\n            showModal: false,\n            update:{\n                id: '',\n                name: '',\n                description: '',\n                image: ''\n            }\n        }\n    },\n\n    computed:{\n        loggedInUser(){\n            return this.$store.getters.returnUser\n        },\n        tableData(){\n            return this.$store.getters.returnCategoryValues\n        },\n        loggedIn(){\n            return this.$store.getters.returnLoggedIn\n        },\n    },\n\n    mounted(){\n        this.loggedInUser,\n        this.tableData\n    },\n\n    methods: {\n\n        updateItem(item){\n            this.showModal = true\n            this.update = item\n        }, \n\n        onEditItem(){\n            this.$store.dispatch(\"update\", this.update)\n            this.showModal = false\n        },\n\n        onDeleteItem(item){\n            this.$store.dispatch(\"delete\", item.id)\n            this.$router.go(this.$router.currentRoute)\n        },\n\n        handleSelects(e) {\n            const fileList = Array.prototype.slice.call(e.target.files);\n            fileList.forEach(f => {\n\n                if (!f.type.match(\"image.*\")) {\n                    return;\n                }\n\n                const reader = new FileReader();\n                const self = this;\n                reader.onload = function (e) {\n                \n                self.update.image = e.target.result;\n                }\n                reader.readAsDataURL(f);\n            });\n\n        },\n\n    }\n\n}\n</script>\n\n<style>\n\n.welcome-page{\n    width: 70vh;\n    border-radius: 20px;\n}\n\nbutton.submit-btn{\n    background: #04126e;\n    border-radius: 5px;\n    padding: 7px;\n    color: #fff;\n}\n.modal{\n    height: 100vh;\n    width: 100%;\n}\n.modal-mask {\n    width: 60%;\n    z-index:  999;\n    border-radius: 20px;\n    background: #eee;\n}\n.greeting{\n    height: 5vh;\n    width: 100%;\n    border-radius: 20px;\n}\n\nbutton:focus{\n    outline: none;\n}\n</style>"]},"metadata":{},"sourceType":"module"}